/*
* {
   "success":true,
   "data":{
      "Account":{
         "Id":af8924be-13d6-4754-beb4-08c5fdb8c1ab,
         "UserName":60412345678,
         "Type":"User",
         "SessionId":,
         "Tag":"RedPay"
      },
      "ForceUpdatePassword":false,
      "IsEnterReferralCode":false,
      "Scenario":null,
      "Mobile":60412345678,
      "Email":"kkk@gmail.com",
      "KipleWebcashId":null,
      "UserWebcashId":null,
      "FullName":null,
      "IsBankIslamUser":null,
      "IsMealPlanEnabled":null,
      "IsBulkUser":false,
      "IsBulkUserVerified":false,
      "IsKYcVerified":false,
      "IsSupportedIC":null,
      "BulkUserMigrationStatus":0,
      "SwitchDeviceInfo":null,
      "AccountWalletType":"Basic",
      "BatchUserCreationType":0,
      "HasWallet":false,
      "HasPIN":false,
      "EwagesUser":false,
      "IsSuportDocUploaded":null,
      "AccessToken":eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZjg5MjRiZS0xM2Q2LTQ3NTQtYmViNC0wOGM1ZmRiOGMxYWIiLCJ1bmlxdWVfbmFtZSI6ImFmODkyNGJlLTEzZDYtNDc1NC1iZWI0LTA4YzVmZGI4YzFhYiIsImp0aSI6IjIyZGVlOThhLTg4ZGQtNGUzYi1hM2IyLTk0NDVlNTdhZWQ1YyIsImlhdCI6MTc0Mzc2NDUyNCwiQWNjb3VudDpJZCI6ImFmODkyNGJlLTEzZDYtNDc1NC1iZWI0LTA4YzVmZGI4YzFhYiIsIkFjY291bnQ6VXNlck5hbWUiOiI2MDQxMjM0NTY3OCIsIkFjY291bnQ6VGFnIjoiUmVkUGF5IiwiQWNjb3VudDpVVUlEIjoiVFEzQS4yMzA4MDUuMDAxLlMyIiwiQWNjb3VudDpJRE5vIjoiIiwiV2FrYWx1OlNlY3VyZVRva2VuIjoiTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFxNkVOTEFzbEhIZmhaWXdvbkRRUGFHcWJYaG8xWnB4NVRoTS85ejlmQVpkK2M5VW9BeHRRVHRTY0hOQXE0M3lUZkJ5M2pwTk03dXBNK0hTZ1dhK200R2NhTGFuZmJHRWMyNXFyOEFnbFVSMU9Ddyt4TTR5K2JsMFlEK1ZpWU9nTHdkMGVqbDVSb3VaaUxEMTRzcDVoSXBHNi8waGUrc0twWXVDckxoNWMzNkhXU1ZuQ3Y1eE1YQkt0ZTlTTG9Qakl4RmcrVjBKVzZBRWR5ZUFwZW5GYTRHcXlPa0Z5TUE0WlpTdEJZVnFyay9lOWphMUxLZ2p1dWJvV04yRGw5TjVkUEF4QUZ4Tnh1K2xyZENiWTUwOVNjRzVtRzdqaVBqRTJSck5wYjRRUWs4bXNpKzFONGxpK2ZlMVBXVVJBd1RxS2dDNVRXTVNYbEFlRUJCcGNSTVZnU1FJREFRQUIiLCJVTVM6VG9rZW4iOiJhN0JMSHEzSTQ1aE02S3Q3MEI0WktvSzlENWlHS0x6WG8rcFUyWmZKbXJiTWxKQk5UOGRNRzRrd2VDcVh0T3hoSFNNQTEwdmVjMCtadVZPSTNYOHErNE1qakRyRElZZFYrZTMyeGtJQnNGVlBHTnNnYlZMUzUzd2ptWmRqMDR2cXhNVDQ3YzlDVTQyNmptY1UrQWRwWnVHRW4zM1NqMW9uRU1ZY29xR0ttK0U9IiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVVNFUiIsIm5iZiI6MTc0Mzc2NDUyNCwiZXhwIjoxNzQ2MzU2NTI0LCJpc3MiOiJLaXBsZSIsImF1ZCI6IktpcGxlIn0.twS5N3uWfyUAtD0baL_8-apOBmG4uSCe_YIk6XfzJCM,
      "Expires":"2025-06-03T19":"02":"04.1267263+08":00,
      "WakaluToken":MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq6ENLAslHHfhZYwonDQPaGqbXho1Zpx5ThM/9z9fAZd+c9UoAxtQTtScHNAq43yTfBy3jpNM7upM+HSgWa+m4GcaLanfbGEc25qr8AglUR1OCw+xM4y+bl0YD+ViYOgLwd0ejl5RouZiLD14sp5hIpG6/0he+sKpYuCrLh5c36HWSVnCv5xMXBKte9SLoPjIxFg+V0JW6AEdyeApenFa4GqyOkFyMA4ZZStBYVqrk/e9ja1LKgjuuboWN2Dl9N5dPAxAFxNxu+lrdCbY509ScG5mG7jiPjE2RrNpb4QQk8msi+1N4li+fe1PWURAwTqKgC5TWMSXlAeEBBpcRMVgSQIDAQAB
   },
   "code":null,
   "message":null
}
* */

import 'package:poc/data/store/user_data/user_data.dart';

class RegisterDto {
  RegisterDto({this.success, this.data, this.code, this.message});

  bool? success;
  LoginModel? data;
  String? message;
  dynamic code;

  factory RegisterDto.fromJson(Map<String, dynamic> json) => RegisterDto(
    success: json["success"],
    data: json["data"] == null ? null : LoginModel.fromJson(json["data"]),
    code: json["code"],
    message: json["message"],
  );

  Map<String, dynamic> toJson() => {
    "success": success,
    "code": code,
    "message": message,
    "data": data?.toJson(),
  };
}

class LoginModel {
  LoginModel({
    this.account,
    this.forceUpdatePassword,
    this.isEnterReferralCode,
    this.scenario,
    this.mobile,
    this.email,
    this.kipleWebcashId,
    this.userWebcashId,
    this.fullName,
    this.isBankIslamUser,
    this.isMealPlanEnabled,
    this.isBulkUser,
    this.isBulkUserVerified,
    this.isKYcVerified,
    this.isSupportedIc,
    this.bulkUserMigrationStatus,
    this.batchUserCreationType,
    this.accessToken,
    this.expires,
    this.icOrPassportNumber,
    this.switchDeviceInfo,
    this.hasPin,
    this.hasWallet,
    this.eWagesUser,
  });

  Account? account;
  bool? forceUpdatePassword;
  bool? isEnterReferralCode;
  dynamic scenario;
  dynamic mobile;
  dynamic email;
  String? kipleWebcashId;
  String? userWebcashId;
  String? fullName;
  bool? isBankIslamUser;
  bool? isMealPlanEnabled;
  bool? isBulkUser;
  bool? isBulkUserVerified;
  bool? isKYcVerified;
  dynamic isSupportedIc;
  int? bulkUserMigrationStatus;
  int? batchUserCreationType;
  String? accessToken;
  DateTime? expires;
  String? icOrPassportNumber;
  SwitchDeviceInfo? switchDeviceInfo;
  bool? hasPin;
  bool? hasWallet;
  bool? eWagesUser;

  factory LoginModel.fromJson(Map<String, dynamic> json) => LoginModel(
    account: Account.fromJson(json["Account"]),
    forceUpdatePassword: json["ForceUpdatePassword"],
    isEnterReferralCode: json["IsEnterReferralCode"],
    scenario: json["Scenario"],
    mobile: json["Mobile"],
    email: json["Email"],
    kipleWebcashId: json["KipleWebcashId"],
    userWebcashId: json["UserWebcashId"],
    fullName: json["FullName"],
    isBankIslamUser: json["IsBankIslamUser"],
    isMealPlanEnabled: json["IsMealPlanEnabled"],
    isBulkUser: json["IsBulkUser"],
    isBulkUserVerified: json["IsBulkUserVerified"],
    isKYcVerified: json["IsKYcVerified"],
    isSupportedIc: json["IsSupportedIC"],
    bulkUserMigrationStatus: json["BulkUserMigrationStatus"],
    batchUserCreationType: json["BatchUserCreationType"],
    accessToken: json["AccessToken"],
    icOrPassportNumber: json["IcOrPassportNumber"],
    expires: DateTime.parse(json["Expires"]),
    switchDeviceInfo:
        json["SwitchDeviceInfo"] == null
            ? null
            : SwitchDeviceInfo.fromJson(json["SwitchDeviceInfo"]),
    hasPin: json["HasPin"],
    hasWallet: json["HasWallet"],
    eWagesUser: json["EwagesUser"],
  );

  Map<String, dynamic> toJson() => {
    "Account": account?.toJson(),
    "ForceUpdatePassword": forceUpdatePassword,
    "IsEnterReferralCode": isEnterReferralCode,
    "Scenario": scenario,
    "Mobile": mobile,
    "Email": email,
    "IcOrPassportNumber": icOrPassportNumber,
    "KipleWebcashId": kipleWebcashId,
    "UserWebcashId": userWebcashId,
    "FullName": fullName,
    "IsBankIslamUser": isBankIslamUser,
    "IsMealPlanEnabled": isMealPlanEnabled,
    "IsBulkUser": isBulkUser,
    "IsBulkUserVerified": isBulkUserVerified,
    "IsKYcVerified": isKYcVerified,
    "IsSupportedIC": isSupportedIc,
    "BulkUserMigrationStatus": bulkUserMigrationStatus,
    "AccessToken": accessToken,
    "Expires": expires?.toIso8601String(),
    "SwitchDeviceInfo": switchDeviceInfo?.toJson(),
    "HasPin": hasPin,
    "HasWallet": hasWallet,
    "EwagesUser": eWagesUser,
  };
}

class Account {
  Account({this.id, this.userName, this.type});

  String? id;
  String? userName;
  dynamic type;

  factory Account.fromJson(Map<String, dynamic> json) =>
      Account(id: json["Id"], userName: json["UserName"], type: json["Type"]);

  Map<String, dynamic> toJson() => {
    "Id": id,
    "UserName": userName,
    "Type": type,
  };
}

class SwitchDeviceInfo {
  SwitchDeviceInfo({this.isSwitchDevice, this.switchMessage});

  bool? isSwitchDevice;
  String? switchMessage;

  factory SwitchDeviceInfo.fromJson(Map<String, dynamic> json) =>
      SwitchDeviceInfo(
        isSwitchDevice: json["IsSwitchDevice"],
        switchMessage: json["SwitchMessage"],
      );

  Map<String, dynamic> toJson() => {
    "IsSwitchDevice": isSwitchDevice,
    "SwitchMessage": switchMessage,
  };
}

UserData toUserData({required LoginModel dto, required String password}) {
  return UserData(
    mobile: dto.mobile ?? '',
    password: password,
    userId: dto.account?.id ?? '',
    username: dto.account?.userName ?? '',
    email: dto.email?.toString() ?? '',
  );
}
